{% extends 'base.html' %}
{% load static %}

{% block title %}Formations Python, Django & IA | Apprenez √† coder avec l'IA | Konimba Djimiga{% endblock %}
{% block meta_description %}Formations en d√©veloppement Python & Django avec IA locale. Apprenez 3x plus vite gr√¢ce √† une supervision intelligente. Parcours d√©butant √† avanc√©, √† partir de 50 000 FCFA.{% endblock %}
{% block meta_keywords %}formation Python, formation Django, apprendre √† coder, IA locale, d√©veloppement web, formation en ligne, FCFA, Afrique francophone{% endblock %}

{% block og_title %}Formations Python & Django avec IA | Konimba Djimiga{% endblock %}
{% block og_description %}Apprenez le code avec l'IA locale. Formations Python & Django, du d√©butant √† l'avanc√©. Supervision intelligente et coaching personnalis√©.{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Formations Python & Django",
  "description": "Formations en d√©veloppement Python & Django avec IA locale",
  "provider": {
    "@type": "Person",
    "name": "Konimba Djimiga",
    "url": "https://bolibana.net"
  },
  "numberOfItems": {{ total_formations }},
  "itemListElement": [
    {% for plan in formation_plans %}
    {
      "@type": "Course",
      "position": {{ forloop.counter }},
      "name": "{{ plan.title|escapejs }}",
      "description": "{{ plan.description|striptags|truncatewords:20|escapejs }}",
      "provider": {
        "@type": "Person",
        "name": "Konimba Djimiga"
      },
      "offers": {
        "@type": "Offer",
        "price": "{{ plan.price|floatformat:0 }}",
        "priceCurrency": "XOF",
        "availability": "https://schema.org/InStock"
      }
    }{% if not forloop.last %},{% endif %}
    {% endfor %}
  ]
}
</script>
{% endblock %}

{% block head_extra %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Fonction pour formater les nombres avec des espaces
    function formatNumber(num) {
        return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
    }
    
    // Trouver tous les √©l√©ments contenant des prix et les formater
    const priceElements = document.querySelectorAll('[data-price]');
    priceElements.forEach(function(element) {
        const price = element.getAttribute('data-price');
        const formattedPrice = formatNumber(price);
        element.textContent = formattedPrice + ' FCFA';
    });
});
</script>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="bg-gradient-to-r from-blue-600 to-purple-700 text-white">
    <div class="container mx-auto px-4 py-16">
        <div class="text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">Apprenez le code avec l'IA locale</h1>
            <p class="text-xl md:text-2xl mb-8 max-w-4xl mx-auto">
                Une approche r√©volutionnaire : <strong>comprendre l'√©cosyst√®me plut√¥t que m√©moriser du code</strong>. 
                Avec l'IA locale, apprenez <strong>3x plus vite</strong> gr√¢ce √† une supervision intelligente 
                et r√©alisez des √©conomies significatives.
            </p>
            
            <!-- Avantages cl√©s -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 max-w-5xl mx-auto">
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <div class="text-3xl mb-2">‚ö°</div>
                    <h3 class="font-bold mb-1">Rapidit√©</h3>
                    <p class="text-sm text-blue-100">Apprentissage 3x plus rapide avec l'IA locale</p>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <div class="text-3xl mb-2">üéØ</div>
                    <h3 class="font-bold mb-1">Supervision</h3>
                    <p class="text-sm text-blue-100">Guidage intelligent et personnalis√©</p>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <div class="text-3xl mb-2">üåê</div>
                    <h3 class="font-bold mb-1">√âcosyst√®me</h3>
                    <p class="text-sm text-blue-100">Comprendre plut√¥t que m√©moriser</p>
                </div>
                <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4">
                    <div class="text-3xl mb-2">üí∞</div>
                    <h3 class="font-bold mb-1">√âconomie</h3>
                    <p class="text-sm text-blue-100">IA locale = pas de co√ªts r√©currents</p>
                </div>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="{% url 'formations:formation_list' %}" 
                   class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
                    D√©couvrir nos formations
                </a>
                <a href="#formations-recentes" 
                   class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition">
                    Voir les parcours
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Statistiques -->
<div class="bg-gray-50 py-12">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
            <div>
                <div class="text-4xl font-bold text-blue-600 mb-2">{{ total_formations }}</div>
                <div class="text-gray-600">Formations disponibles</div>
            </div>
            <div>
                <div class="text-4xl font-bold text-blue-600 mb-2">{{ levels|length }}</div>
                <div class="text-gray-600">Niveaux de formation</div>
            </div>
            <div>
                <div class="text-4xl font-bold text-blue-600 mb-2">100%</div>
                <div class="text-gray-600">Satisfaction client</div>
            </div>
        </div>
    </div>
</div>

<!-- Niveaux de formation -->
<div class="py-16">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12">Nos Niveaux de Formation</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for value, label in levels.items %}
            <div class="bg-white rounded-lg shadow-lg p-8 text-center">
                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    {% if value == 'debutant' %}
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    {% elif value == 'intermediaire' %}
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                    {% else %}
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                    {% endif %}
                </div>
                <h3 class="text-xl font-semibold mb-2">{{ label }}</h3>
                <p class="text-gray-600 mb-4">
                    {% if value == 'debutant' %}
                        Parfait pour d√©buter et acqu√©rir les bases fondamentales
                    {% elif value == 'intermediaire' %}
                        Pour approfondir vos connaissances et d√©velopper vos comp√©tences
                    {% else %}
                        Formation avanc√©e pour les professionnels exp√©riment√©s
                    {% endif %}
                </p>
                <a href="{% url 'formations:formation_list' %}?level={{ value }}" 
                   class="inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                    Voir les formations
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Tableau Comparatif -->
<div class="py-16 bg-white dark:bg-neutral-800">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-4">Choisissez votre parcours</h2>
            <p class="text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                Nous avons con√ßu trois parcours adapt√©s √† vos besoins, que vous soyez d√©butant ou que vous cherchiez √† vous perfectionner.
            </p>
        </div>

        {% if formation_plans|length == 3 %}
        <!-- Version Desktop (Tableau) -->
        <div class="hidden lg:block overflow-x-auto">
            <div class="max-w-5xl mx-auto bg-white dark:bg-neutral-700 rounded-lg shadow-xl">
                <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-neutral-600 dark:text-gray-300">
                        <tr>
                            <th scope="col" class="px-6 py-4 rounded-tl-lg">Fonctionnalit√©s</th>
                            {% for plan in formation_plans %}
                            <th scope="col" class="px-6 py-3 text-center">
                                <a href="{% url 'formations:formation_detail' plan.slug %}" class="hover:text-blue-600 transition-colors">
                                    <span class="block font-bold text-lg">{{ plan.get_level_display }}</span>
                                    <span class="block text-xs">{{ plan.title }}</span>
                                </a>
                            </th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Feature Rows -->
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Modules d'Introduction</th>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Pr√©paration de l'Environnement</th>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">M√©thode de G√©n√©ration de Code</th>
                            <td class="px-6 py-4 text-center text-red-500 font-bold text-xl">‚ùå</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Cr√©ation d'une App de A √† Z</th>
                            <td class="px-6 py-4 text-center text-red-500 font-bold text-xl">‚ùå</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Optimisation & D√©ploiement</th>
                            <td class="px-6 py-4 text-center text-red-500 font-bold text-xl">‚ùå</td>
                            <td class="px-6 py-4 text-center text-red-500 font-bold text-xl">‚ùå</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Forum Communautaire</th>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Sessions Q&R de Groupe</th>
                            <td class="px-6 py-4 text-center text-red-500 font-bold text-xl">‚ùå</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white border-b dark:bg-neutral-800 dark:border-neutral-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Coaching Individuel</th>
                            <td class="px-6 py-4 text-center text-red-500 font-bold text-xl">‚ùå</td>
                            <td class="px-6 py-4 text-center text-red-500 font-bold text-xl">‚ùå</td>
                            <td class="px-6 py-4 text-center text-green-500 font-bold text-xl">‚úì</td>
                        </tr>
                        <tr class="bg-white dark:bg-neutral-800">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">Prix</th>
                             {% for plan in formation_plans %}
                            <td class="px-6 py-4 text-center font-bold text-xl text-blue-600 dark:text-blue-400">
                                <span data-price="{{ plan.price|floatformat:0 }}">{{ plan.price|floatformat:0 }} FCFA</span>
                            </td>
                            {% endfor %}
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr class="bg-gray-50 dark:bg-neutral-600">
                            <td class="px-6 py-4"></td>
                            {% for plan in formation_plans %}
                            <td class="px-6 py-4 text-center">
                                <a href="{% url 'formations:formation_detail' plan.slug %}" class="font-medium text-white bg-blue-600 hover:bg-blue-700 py-2 px-4 rounded-lg transition">
                                    Voir le d√©tail
                                </a>
                            </td>
                            {% endfor %}
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <!-- Version Mobile/Tablet (Cartes) -->
        <div class="lg:hidden space-y-6">
            {% for plan in formation_plans %}
            <div class="bg-white dark:bg-neutral-700 rounded-lg shadow-lg p-6">
                <div class="text-center mb-6">
                    <a href="{% url 'formations:formation_detail' plan.slug %}" class="hover:text-blue-600 transition-colors">
                        <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-2">{{ plan.get_level_display }}</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300">{{ plan.title }}</p>
                    </a>
                    <div class="mt-4">
                        <span class="text-3xl font-bold text-blue-600 dark:text-blue-400" data-price="{{ plan.price|floatformat:0 }}">{{ plan.price|floatformat:0 }} FCFA</span>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">Modules d'Introduction</span>
                        <span class="text-green-500 font-bold">‚úì</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">Pr√©paration de l'Environnement</span>
                        <span class="text-green-500 font-bold">‚úì</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">M√©thode de G√©n√©ration de Code</span>
                        {% if plan.level == 'debutant' %}
                            <span class="text-red-500 font-bold">‚ùå</span>
                        {% else %}
                            <span class="text-green-500 font-bold">‚úì</span>
                        {% endif %}
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">Cr√©ation d'une App de A √† Z</span>
                        {% if plan.level == 'debutant' %}
                            <span class="text-red-500 font-bold">‚ùå</span>
                        {% else %}
                            <span class="text-green-500 font-bold">‚úì</span>
                        {% endif %}
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">Optimisation & D√©ploiement</span>
                        {% if plan.level == 'avance' %}
                            <span class="text-green-500 font-bold">‚úì</span>
                        {% else %}
                            <span class="text-red-500 font-bold">‚ùå</span>
                        {% endif %}
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">Forum Communautaire</span>
                        <span class="text-green-500 font-bold">‚úì</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">Sessions Q&R de Groupe</span>
                        {% if plan.level == 'debutant' %}
                            <span class="text-red-500 font-bold">‚ùå</span>
                        {% else %}
                            <span class="text-green-500 font-bold">‚úì</span>
                        {% endif %}
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300">Coaching Individuel</span>
                        {% if plan.level == 'avance' %}
                            <span class="text-green-500 font-bold">‚úì</span>
                        {% else %}
                            <span class="text-red-500 font-bold">‚ùå</span>
                        {% endif %}
                    </div>
                </div>
                
                <div class="mt-6 text-center">
                    <a href="{% url 'formations:formation_detail' plan.slug %}" class="inline-block font-medium text-white bg-blue-600 hover:bg-blue-700 py-3 px-6 rounded-lg transition w-full">
                        Voir le d√©tail
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p class="text-center text-gray-500 dark:text-gray-400">Le tableau comparatif est en cours de pr√©paration.</p>
        {% endif %}
    </div>
</div>

<!-- Formations r√©centes -->
<div id="formations-recentes" class="bg-gray-50 py-16">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold mb-4">Formations R√©centes</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">
                D√©couvrez nos derni√®res formations ajout√©es √† notre catalogue
            </p>
        </div>
        
        {% if recent_formations %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for formation in recent_formations %}
            <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                {% if formation.image %}
                <img src="{{ formation.image.url }}" alt="{{ formation.title }}" class="w-full h-48 object-cover">
                {% else %}
                <div class="w-full h-48 bg-gray-200 flex items-center justify-center">
                    <svg class="w-16 h-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                </div>
                {% endif %}
                <div class="p-6">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="text-xl font-semibold">{{ formation.title }}</h3>
                        <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm">
                            {{ formation.get_level_display }}
                        </span>
                    </div>
                    <div class="prose max-w-none text-gray-600 mb-6 min-h-[4rem]">{{ formation.description|truncatewords_html:20|safe }}</div>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-blue-600 font-bold" data-price="{{ formation.price|floatformat:0 }}">{{ formation.price|floatformat:0 }} FCFA</span>
                        <span class="text-gray-500">{{ formation.duration }}</span>
                    </div>
                    <a href="{% url 'formations:formation_detail' formation.slug %}" 
                       class="block text-center bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
                        En savoir plus
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-8">
            <a href="{% url 'formations:formation_list' %}" 
               class="inline-block bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
                Voir toutes les formations
            </a>
        </div>
        {% else %}
        <div class="text-center py-8">
            <p class="text-gray-500">Aucune formation disponible pour le moment.</p>
        </div>
        {% endif %}
    </div>
</div>

<!-- Call to Action -->
<div class="bg-blue-600 text-white py-16">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-4">Pr√™t √† commencer votre formation ?</h2>
        <p class="text-xl mb-8 max-w-2xl mx-auto">
            Rejoignez nos formations et d√©veloppez vos comp√©tences avec nos experts
        </p>
        <a href="{% url 'formations:formation_list' %}" 
           class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
            D√©couvrir nos formations
        </a>
    </div>
</div>
{% endblock %} 